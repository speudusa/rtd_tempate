<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>14.4. Model-Binding &mdash; Textbook Template 2022 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="14.5. Exercises: Edit Model Classes" href="exercises.html" />
    <link rel="prev" title="14.3. Models and Data" href="data-layer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: purple" >
            <a href="../../index.html" class="icon icon-home"> Textbook Template
            <img src="../../_static/lc-ed-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction-and-setup/index.html">1. Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-types/index.html">2. Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../control-flow-and-collections/index.html">3. Control Flow and Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes/index.html">4. Classes in C#, Part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes-part2/index.html">5. Classes and Objects, Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit-testing/index.html">6. Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inheritance/index.html">7. Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces-and-polymorphism/index.html">8. Interfaces and Polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-intro/index.html">9. Introduction to ASP.NET</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-controllers-and-routes/index.html">10. Controllers and Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions/index.html">11. Rules to the Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vstools/index.html">12. Tools in Visual Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../razor-views/index.html">13. Razor Views</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">14. Models and Model Binding</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="model-intro.html">14.1. Models in MVC</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-class.html">14.2. Create a Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-layer.html">14.3. Models and Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">14.4. Model-Binding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-use-model-binding-video">14.4.1. How to Use Model-Binding - Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-use-model-binding-text">14.4.2. How to Use Model-Binding - Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-your-understanding">14.4.3. Check Your Understanding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="exercises.html">14.5. Exercises: Edit Model Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="studio.html">14.6. Studio: Spa User Signup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-model-validation/index.html">15. ViewModels and Model Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enums/index.html">16. Enumeration Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm-intro/index.html">17. Introduction to Object-Relational Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm-relationships/index.html">18. Relationships in Object-Relational Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auth/index.html">19. Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-apis/index.html">20. Introduction to Web APIs &amp; REST</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/sql-install.html">Installing SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/vs-troubleshooting.html">Visual Studio Operational Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/postman-install.html">Installing Postman</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/exercise-solutions/index.html">Exercise Solutions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: purple" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Textbook Template</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">14. </span>Models and Model Binding</a> &raquo;</li>
      <li><span class="section-number">14.4. </span>Model-Binding</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/chapters/aspdotnet-model-classes/model-binding.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="model-binding">
<h1><span class="section-number">14.4. </span>Model-Binding<a class="headerlink" href="#model-binding" title="Permalink to this headline"></a></h1>
<p id="index-0">We now introduce a useful technique to auto-create model instances,
called <strong>model binding</strong>. Model binding takes place when a whole
model object is created by the ASP.NET framework on form submission. This saves us the effort,
and the code, needed to pass in each form field to a controller.</p>
<p>Model binding reduces the amount of code we need to
write to create an object and helps with validation (which we’ll explore further in the next
section). With a few modifications to our project, ASP.NET creates an <code class="docutils literal notranslate"><span class="pre">Event</span></code> object for us when
the <em>New Event</em> form is posted.</p>
<div class="section" id="how-to-use-model-binding-video">
<h2><span class="section-number">14.4.1. </span>How to Use Model-Binding - Video<a class="headerlink" href="#how-to-use-model-binding-video" title="Permalink to this headline"></a></h2>

<div style="text-align:center;"><iframe width="800" height="450" src="https://www.youtube.com/embed/vvfPmxLeinU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p></p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>The starter code for this video is found at the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/delete-events" target="_blank">delete-events branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>
of <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code>. The final code presented in this
video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/model-binding" target="_blank">model-binding branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.
As always, code along to the videos on your own <code class="docutils literal notranslate"><span class="pre">CodingEvents</span></code> project.</p>
</div>
</div>
<div class="section" id="how-to-use-model-binding-text">
<h2><span class="section-number">14.4.2. </span>How to Use Model-Binding - Text<a class="headerlink" href="#how-to-use-model-binding-text" title="Permalink to this headline"></a></h2>
<p>When submitting new event information, rather than passing in each field used to
instantiate a model, we can instead pass in <code class="docutils literal notranslate"><span class="pre">Event</span> <span class="pre">newEvent</span></code> as a parameter
of the controller method.</p>
<p>Revised <code class="docutils literal notranslate"><span class="pre">NewEvent</span></code> method in <code class="docutils literal notranslate"><span class="pre">EventsController</span></code>:</p>
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="linenos">29</span><span class="na">[HttpPost]</span><span class="w"></span>
<span class="linenos">30</span><span class="na">[Route(&quot;Events/Add&quot;)]</span><span class="w"></span>
<span class="linenos">31</span><span class="k">public</span><span class="w"> </span><span class="n">IActionResult</span><span class="w"> </span><span class="nf">NewEvent</span><span class="p">(</span><span class="n">Event</span><span class="w"> </span><span class="n">newEvent</span><span class="p">)</span><span class="w"></span>
<span class="linenos">32</span><span class="p">{</span><span class="w"></span>
<span class="linenos">33</span><span class="w">   </span><span class="n">EventData</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">newEvent</span><span class="p">);</span><span class="w"></span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nf">Redirect</span><span class="p">(</span><span class="s">&quot;/Events&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">36</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>This is the essence of model binding. The model instance is created
on form submission. With only two fields needed to create an event, the value of this data binding may not be
particularly apparent right now. You can imagine, though, with a larger form and class, that the practice of
model binding is pretty potent.</p>
<p>For binding to take place, we must use the model field names as the form field names. So back in
the create form HTML, we update the form fields to match the event fields.</p>
<p><code class="docutils literal notranslate"><span class="pre">Views/Events/Add.cshtml</span></code>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 4</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
<span class="linenos"> 5</span>   <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos"> 6</span>      Name
<span class="linenos"> 7</span>      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span><span class="p">&gt;</span>
<span class="linenos"> 8</span>   <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos"> 9</span>   <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">10</span>      Description
<span class="linenos">11</span>      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span><span class="p">&gt;</span>
<span class="linenos">12</span>   <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">13</span> <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>If a form field name does NOT match up with a model field, then binding will fail for that piece of data.
It is critically important to ensure these names match up.</p>
<div class="admonition-tip admonition" id="index-1">
<p class="admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p>The basics of model binding require that model property names match form field names. If they don’t,
you still have the option to bind the model with attributes. We could have left the description
field in the <em>Add Event</em> form with <code class="docutils literal notranslate"><span class="pre">name=&quot;desc&quot;</span></code>. Then back in the <code class="docutils literal notranslate"><span class="pre">Event</span></code> class, we could modify the
description property as such:</p>
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="linenos">10</span><span class="na">[FromForm(Name=&quot;desc&quot;)]</span><span class="w"></span>
<span class="linenos">11</span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Description</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<p>The changes above only scratch the surface of what can be done with model binding.
We address more aspects and advantages of this technique in the coming pages If you’d
like to read more on the topic now, take a look at the <a class="reference external" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-3.1" target="_blank">documentation<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">14.4.3. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline"></a></h2>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>Complete this sentence: Model binding …
<em>Check all that apply</em></p>
<ol class="arabic simple">
<li><p>requires the use of attributes.</p></li>
<li><p>helps with form validation.</p></li>
<li><p>reduces controller code.</p></li>
<li><p>makes your code more rigid and vulnerable to errors.</p></li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>In <code class="docutils literal notranslate"><span class="pre">CodingEvents</span></code>, we add an additional property, <code class="docutils literal notranslate"><span class="pre">NumberOfAttendees</span></code>, to the <code class="docutils literal notranslate"><span class="pre">Event</span></code> class. What other change must we make to ensure the user of our
application can determine this value? (Assume we are using model binding to process form submission.)</p>
<ol class="arabic simple">
<li><p>Pass in a <code class="docutils literal notranslate"><span class="pre">numberOfAttendees</span></code> parameter to the form submission handler.</p></li>
<li><p>Add another input element to the create event form with a <code class="docutils literal notranslate"><span class="pre">name=&quot;numberOfAttendees&quot;</span></code> attribute.</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">getAttendees</span></code> method to <code class="docutils literal notranslate"><span class="pre">EventData</span></code>.</p></li>
<li><p>All of the above.</p></li>
</ol>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data-layer.html" class="btn btn-neutral float-left" title="14.3. Models and Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="exercises.html" class="btn btn-neutral float-right" title="14.5. Exercises: Edit Model Classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, LaunchCode.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>