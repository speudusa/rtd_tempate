<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>13.6. Razor Forms &mdash; Textbook Template 2022 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="13.7. The Shared Directory" href="layout-pages.html" />
    <link rel="prev" title="13.5. Conditionals in a Template" href="template-conditionals.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: purple" >
            <a href="../../index.html" class="icon icon-home"> Textbook Template
            <img src="../../_static/lc-ed-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction-and-setup/index.html">1. Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-types/index.html">2. Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../control-flow-and-collections/index.html">3. Control Flow and Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes/index.html">4. Classes in C#, Part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes-part2/index.html">5. Classes and Objects, Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit-testing/index.html">6. Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inheritance/index.html">7. Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces-and-polymorphism/index.html">8. Interfaces and Polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-intro/index.html">9. Introduction to ASP.NET</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-controllers-and-routes/index.html">10. Controllers and Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions/index.html">11. Rules to the Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vstools/index.html">12. Tools in Visual Studio</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">13. Razor Views</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="why-templates.html">13.1. Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-template.html">13.2. Creating a Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-templates.html">13.3. Using a Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="template-iteration.html">13.4. Iterating in a Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="template-conditionals.html">13.5. Conditionals in a Template</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">13.6. Razor Forms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#start-a-new-project">13.6.1. Start a New Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#codingevents-setup-video">13.6.2. CodingEvents Setup - Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="#codingevents-setup-text">13.6.3. CodingEvents Setup - Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-and-render-a-form-video">13.6.4. Create and Render a Form - Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-and-render-a-form-text">13.6.5. Create and Render a Form - Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#handle-form-submission-video">13.6.6. Handle Form Submission - Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="#handle-form-submission-text">13.6.7. Handle Form Submission - Text</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="layout-pages.html">13.7. The Shared Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="static-resources.html">13.8. Static Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap.html">13.9. Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercises.html">13.10. Exercises: Razor Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="studio.html">13.11. Studio: Spa Day!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-model-classes/index.html">14. Models and Model Binding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aspdotnet-model-validation/index.html">15. ViewModels and Model Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enums/index.html">16. Enumeration Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm-intro/index.html">17. Introduction to Object-Relational Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm-relationships/index.html">18. Relationships in Object-Relational Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auth/index.html">19. Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-apis/index.html">20. Introduction to Web APIs &amp; REST</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/sql-install.html">Installing SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/vs-troubleshooting.html">Visual Studio Operational Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/postman-install.html">Installing Postman</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/exercise-solutions/index.html">Exercise Solutions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: purple" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Textbook Template</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">13. </span>Razor Views</a> &raquo;</li>
      <li><span class="section-number">13.6. </span>Razor Forms</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/chapters/razor-views/template-forms.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="razor-forms">
<h1><span class="section-number">13.6. </span>Razor Forms<a class="headerlink" href="#razor-forms" title="Permalink to this headline"></a></h1>
<p>Already we have seen that templates allow us to build generic forms.
Using templates, you can reuse the structure by rendering the same form, but with different labels and data.
Thus, a single form can serve different purposes, saving you extra effort.</p>
<p>Whenever possible, reuse existing templates!</p>
<div class="section" id="start-a-new-project">
<h2><span class="section-number">13.6.1. </span>Start a New Project<a class="headerlink" href="#start-a-new-project" title="Permalink to this headline"></a></h2>
<p>You will build a new project so you can practice with templates and forms.
If you have not done so, commit and push any unsaved work from your <code class="docutils literal notranslate"><span class="pre">HelloASPDotNET</span></code> project.</p>
<p>Your new project will keep track of some coding events, such as meetups and conferences.
To get started, follow the <a class="reference internal" href="../aspdotnet-intro/initialize.html#initialize-aspdotnet-project"><span class="std std-ref">steps</span></a> you took to create <code class="docutils literal notranslate"><span class="pre">HelloASPDotNET</span></code>, but call the project <code class="docutils literal notranslate"><span class="pre">CodingEvents</span></code>.</p>
</div>
<div class="section" id="codingevents-setup-video">
<h2><span class="section-number">13.6.2. </span>CodingEvents Setup - Video<a class="headerlink" href="#codingevents-setup-video" title="Permalink to this headline"></a></h2>

<div style="text-align:center;"><iframe width="800" height="450" src="https://www.youtube.com/embed/30uNDl80lIc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p></p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>The final code presented in this video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/views-setup" target="_blank">views-setup branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> of the <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code> repository.</p>
</div>
<div class="admonition-tip admonition">
<p class="admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p><strong>Windows Users</strong>: You might need to change some solution settings if you pull down this demo repository and run it on your computer.
Refer to <a class="reference internal" href="../../appendices/vs-troubleshooting.html#vs-troubleshooting"><span class="std std-ref">Visual Studio Operational Tips</span></a> for help.</p>
</div>
</div>
<div class="section" id="codingevents-setup-text">
<h2><span class="section-number">13.6.3. </span>CodingEvents Setup - Text<a class="headerlink" href="#codingevents-setup-text" title="Permalink to this headline"></a></h2>
<ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Controllers</span></code> directory, create a new controller named <code class="docutils literal notranslate"><span class="pre">EventsController</span></code>.</p></li>
<li><p>In the new controller, create an action method for <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests.</p></li>
<li><p>Within the action method, create an empty list and add a few event names to it.</p></li>
<li><p>Add the list to <code class="docutils literal notranslate"><span class="pre">ViewBag</span></code>. Then return the corresponding view.</p></li>
<li><p>Within the <code class="docutils literal notranslate"><span class="pre">Views</span></code> directory, create a new directory named <code class="docutils literal notranslate"><span class="pre">Events</span></code>. Within this directory, create a new view named <code class="docutils literal notranslate"><span class="pre">Index.cshtml</span></code>.</p></li>
<li><p>Within the new template, loop over the list and display the name of each event.</p></li>
</ol>
</div>
<div class="section" id="create-and-render-a-form-video">
<h2><span class="section-number">13.6.4. </span>Create and Render a Form - Video<a class="headerlink" href="#create-and-render-a-form-video" title="Permalink to this headline"></a></h2>

<div style="text-align:center;"><iframe width="800" height="450" src="https://www.youtube.com/embed/rdEsTOYhM_E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p></p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>The starter code presented in this video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/views-setup" target="_blank">views-setup branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> of the <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code> repository.
The final code presented in this video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/render-form" target="_blank">render-form branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> of the <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code> repository.</p>
</div>
</div>
<div class="section" id="create-and-render-a-form-text">
<h2><span class="section-number">13.6.5. </span>Create and Render a Form - Text<a class="headerlink" href="#create-and-render-a-form-text" title="Permalink to this headline"></a></h2>
<p>A Razor form can be made simply with a template that includes a <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> element.
The method for the form should be of type <code class="docutils literal notranslate"><span class="pre">post</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="cm">&lt;!-- Other HTML --&gt;</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
<span class="linenos">4</span>   <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;inputName&quot;</span><span class="p">&gt;</span>
<span class="linenos">5</span>   <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;submitButtonText&quot;</span><span class="p">&gt;</span>
<span class="linenos">6</span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="linenos">7</span>
<span class="linenos">8</span><span class="cm">&lt;!-- Other HTML --&gt;</span>
</pre></div>
</div>
<p>You can include as many inputs as you need in the form, and these can be of
different types (e.g. text, email, checkbox, etc.). However, each different
piece of data you want to collect needs to have a unique <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute.</p>
<p>To <em>render</em> the form in the view, add a method to the controller with an <code class="docutils literal notranslate"><span class="pre">[HttpGet]</span></code> annotation:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">26</span><span class="na">[HttpGet]</span><span class="w"></span>
<span class="linenos">27</span><span class="k">public</span><span class="w"> </span><span class="n">IActionResult</span><span class="w"> </span><span class="nf">Add</span><span class="p">()</span><span class="w"></span>
<span class="linenos">28</span><span class="p">{</span><span class="w"></span>
<span class="linenos">29</span><span class="w">   </span><span class="c1">// Any additional method code here</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nf">View</span><span class="p">();</span><span class="w"></span>
<span class="linenos">32</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">action</span></code> attribute in the <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> tag leads to the same route as the form is being rendered at, you do not have to include an <code class="docutils literal notranslate"><span class="pre">action</span></code> attribute.</p>
</div>
</div>
<div class="section" id="handle-form-submission-video">
<h2><span class="section-number">13.6.6. </span>Handle Form Submission - Video<a class="headerlink" href="#handle-form-submission-video" title="Permalink to this headline"></a></h2>
<p>Now that you have created and rendered a form in your <code class="docutils literal notranslate"><span class="pre">CodingEvents</span></code>
project, you need to add a method to the controller to <em>handle</em> its submission.
Code along with the video below to add this functionality.</p>

<div style="text-align:center;"><iframe width="800" height="450" src="https://www.youtube.com/embed/ElaXOEpFQZQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p></p>
<p>As usual, the following summary outlines the ideas from the clip.</p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>The starter code presented in this video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/render-form" target="_blank">render-form branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> of the <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code> repository.
The final code presented in this video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/handle-form-submission" target="_blank">handle-form-submission branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> of the <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code> repository.</p>
</div>
</div>
<div class="section" id="handle-form-submission-text">
<h2><span class="section-number">13.6.7. </span>Handle Form Submission - Text<a class="headerlink" href="#handle-form-submission-text" title="Permalink to this headline"></a></h2>
<p>To <em>process</em> a form after the user clicks the <em>Submit</em> button, you need to add
a method to the controller using the <code class="docutils literal notranslate"><span class="pre">[HttpPost]</span></code> annotation:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">31</span><span class="na">[HttpPost]</span><span class="w"></span>
<span class="linenos">32</span><span class="na">[Route(&quot;/Events/Add&quot;)]</span><span class="w"></span>
<span class="linenos">33</span><span class="k">public</span><span class="w"> </span><span class="n">IActionResult</span><span class="w"> </span><span class="nf">NewEvent</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"></span>
<span class="linenos">34</span><span class="p">{</span><span class="w"></span>
<span class="linenos">35</span><span class="w">   </span><span class="c1">// Method code...</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nf">Redirect</span><span class="p">(</span><span class="s">&quot;/Events&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">38</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Some points to note:</p>
<ol class="arabic simple">
<li><p>Line 2: For each piece of data that needs to be retrieved from the form,
declare a parameter of the appropriate type.</p></li>
<li><p>The method code performs any data manipulation required after the
information gets submitted.</p></li>
<li><p>Line 6: We may want to send the user to a different page after they
successfully submit a form. Instead of re-rendering the form, we want
to use <code class="docutils literal notranslate"><span class="pre">Redirect()</span></code> to <em>redirect</em> the user to a different template.</p></li>
</ol>
<p>Now that we have a form and can handle the form submission, we want to create a link to the form to add an event in our <code class="docutils literal notranslate"><span class="pre">Index</span></code> template.
This way, after reviewing the list of events, users can click on the link to the form and add an event.
To do this, we use anchor tag helpers. If we put in the following line in our template:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Events&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Add&quot;</span><span class="p">&gt;</span>Add Event<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Then when we build our application, the generated HTML of the page will look like:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/Events/Add&quot;</span><span class="p">&gt;</span>Add Event<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Users can now click on the link on our page at <code class="docutils literal notranslate"><span class="pre">localhost:5001/Events</span></code> and are directed to the form to add an event.
Once they hit the button to submit the form, the data is passed to the <code class="docutils literal notranslate"><span class="pre">NewEvent()</span></code> method, the user’s event is added to the <code class="docutils literal notranslate"><span class="pre">Events</span></code> list, and the application redirects back to <code class="docutils literal notranslate"><span class="pre">localhost:5001/Events</span></code> where an updated <code class="docutils literal notranslate"><span class="pre">Events</span></code> list is displayed.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="template-conditionals.html" class="btn btn-neutral float-left" title="13.5. Conditionals in a Template" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="layout-pages.html" class="btn btn-neutral float-right" title="13.7. The Shared Directory" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, LaunchCode.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>