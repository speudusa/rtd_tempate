<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exercise Solutions: Unit Testing &mdash; Textbook Template 2022 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Exercise Solutions: Inheritance" href="inheritance.html" />
    <link rel="prev" title="Exercise Solutions: Classes Part 2" href="classes-2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: purple" >
            <a href="../../index.html" class="icon icon-home"> Textbook Template
            <img src="../../_static/lc-ed-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/introduction-and-setup/index.html">1. Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/data-types/index.html">2. Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/control-flow-and-collections/index.html">3. Control Flow and Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/classes/index.html">4. Classes in C#, Part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/classes-part2/index.html">5. Classes and Objects, Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/unit-testing/index.html">6. Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/inheritance/index.html">7. Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/interfaces-and-polymorphism/index.html">8. Interfaces and Polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/aspdotnet-intro/index.html">9. Introduction to ASP.NET</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/aspdotnet-controllers-and-routes/index.html">10. Controllers and Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/exceptions/index.html">11. Rules to the Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/vstools/index.html">12. Tools in Visual Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/razor-views/index.html">13. Razor Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/aspdotnet-model-classes/index.html">14. Models and Model Binding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/aspdotnet-model-validation/index.html">15. ViewModels and Model Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/enums/index.html">16. Enumeration Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/orm-intro/index.html">17. Introduction to Object-Relational Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/orm-relationships/index.html">18. Relationships in Object-Relational Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/auth/index.html">19. Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/web-apis/index.html">20. Introduction to Web APIs &amp; REST</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../sql-install.html">Installing SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vs-troubleshooting.html">Visual Studio Operational Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postman-install.html">Installing Postman</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Exercise Solutions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data-types.html">Exercise Solutions: Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="control-flow.html">Exercise Solutions: Control Flow &amp; Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes-part1.html">Exercise Solutions: Classes and Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes-2.html">Exercise Solutions: Classes Part 2</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Exercise Solutions: Unit Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#testgastankafterdriving"><code class="docutils literal notranslate"><span class="pre">TestGasTankAfterDriving()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#testgastankafterexceedingtankrange"><code class="docutils literal notranslate"><span class="pre">TestGasTankAfterExceedingTankRange()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#testgasoverfillexception"><code class="docutils literal notranslate"><span class="pre">TestGasOverfillException()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="inheritance.html">Exercise Solutions: Inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html">Exercise Solutions: Interfaces and Polymorphism</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers-routes.html">Exercise Solutions: Controllers and Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exercise Solutions: Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="razor-views.html">Exercise Solutions: Razor Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Exercises Solutions: Edit Model Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-validation.html">Exercises Solutions:  ViewModels and Model Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm-1.html">Exercise Solutions: OMG the ORM!</a></li>
<li class="toctree-l2"><a class="reference internal" href="web-api.html">Exercise Solutions:  Web APIs and REST</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: purple" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Textbook Template</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Exercise Solutions</a> &raquo;</li>
      <li>Exercise Solutions: Unit Testing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/appendices/exercise-solutions/unit-testing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="exercise-solutions-unit-testing">
<h1>Exercise Solutions: Unit Testing<a class="headerlink" href="#exercise-solutions-unit-testing" title="Permalink to this headline"></a></h1>
<p>Line numbers are for reference. They may not match your code exactly.</p>
<div class="section" id="testgastankafterdriving">
<span id="unit-testing-solution-1"></span><h2><code class="docutils literal notranslate"><span class="pre">TestGasTankAfterDriving()</span></code><a class="headerlink" href="#testgastankafterdriving" title="Permalink to this headline"></a></h2>
<p>Add a test for the third TODO, “GasTankLevel is accurate after driving within tank range”.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="w">   </span><span class="na">[TestMethod]</span><span class="w"></span>
<span class="linenos">2</span><span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">TestGasTankAfterDriving</span><span class="p">()</span><span class="w"></span>
<span class="linenos">3</span><span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="linenos">4</span><span class="w">      </span><span class="n">test_car</span><span class="p">.</span><span class="n">Drive</span><span class="p">(</span><span class="m">50</span><span class="p">);</span><span class="w"></span>
<span class="linenos">5</span><span class="w">      </span><span class="n">Assert</span><span class="p">.</span><span class="n">AreEqual</span><span class="p">(</span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="n">test_car</span><span class="p">.</span><span class="n">GasTankLevel</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="m">001</span><span class="p">);</span><span class="w"></span>
<span class="linenos">6</span><span class="w">   </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><a class="reference internal" href="../../chapters/unit-testing/exercises.html#unit-testing-exercises1"><span class="std std-ref">Back to the exercises</span></a></p>
</div>
<div class="section" id="testgastankafterexceedingtankrange">
<span id="unit-testing-solution-2"></span><h2><code class="docutils literal notranslate"><span class="pre">TestGasTankAfterExceedingTankRange()</span></code><a class="headerlink" href="#testgastankafterexceedingtankrange" title="Permalink to this headline"></a></h2>
<p>Add a test for the fourth TODO, “GasTankLevel is accurate after attempting to drive past tank range”.</p>
<ol class="arabic simple">
<li><p>You’re on your own for this one. You’ll need to simulate the <code class="docutils literal notranslate"><span class="pre">Car</span></code>
travelling farther than it’s <code class="docutils literal notranslate"><span class="pre">gasTankLevel</span></code> allows.</p></li>
</ol>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="w">   </span><span class="na">[TestMethod]</span><span class="w"></span>
<span class="linenos">2</span><span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">TestGasTankAfterExceedingTankRange</span><span class="p">()</span><span class="w"></span>
<span class="linenos">3</span><span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="linenos">4</span><span class="w">      </span><span class="n">test_car</span><span class="p">.</span><span class="n">Drive</span><span class="p">(</span><span class="m">501</span><span class="p">);</span><span class="w"></span>
<span class="linenos">5</span><span class="w">      </span><span class="n">Assert</span><span class="p">.</span><span class="n">AreEqual</span><span class="p">(</span><span class="n">test_car</span><span class="p">.</span><span class="n">GasTankLevel</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="m">001</span><span class="p">);</span><span class="w"></span>
<span class="linenos">6</span><span class="w">   </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><a class="reference internal" href="../../chapters/unit-testing/exercises.html#unit-testing-exercises2"><span class="std std-ref">Back to the exercises</span></a></p>
</div>
<div class="section" id="testgasoverfillexception">
<span id="unit-testing-solution-3"></span><h2><code class="docutils literal notranslate"><span class="pre">TestGasOverfillException()</span></code><a class="headerlink" href="#testgasoverfillexception" title="Permalink to this headline"></a></h2>
<p>The test for our last TODO is a little different. We are going to
perform an action on our car object, and we are expecting the object
to throw an error. In this case, we are going to attempt to add gas
to our car that exceeds the gas tank size.</p>
<ol class="arabic simple" start="2">
<li><p>Now we need to tell MSTest the test passes if an exception is thrown. We will use a new attribute <code class="docutils literal notranslate"><span class="pre">[ExpectedException]</span></code>.</p></li>
</ol>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="w">   </span><span class="c1">//TODO: can&#39;t have more gas than tank size, expect an exception</span>
<span class="linenos">2</span><span class="w">   </span><span class="na">[TestMethod]</span><span class="w"></span>
<span class="linenos">3</span><span class="w">   </span><span class="na">[ExpectedException(typeof(ArgumentOutOfRangeException))]</span><span class="w"></span>
<span class="linenos">4</span><span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">TestGasOverfillException</span><span class="p">()</span><span class="w"></span>
<span class="linenos">5</span><span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="w">   </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><a class="reference internal" href="../../chapters/unit-testing/exercises.html#unit-testing-exercises3"><span class="std std-ref">Back to the exercises</span></a></p>
<ol class="arabic simple" start="4">
<li><p>Back in <code class="docutils literal notranslate"><span class="pre">CarTests</span></code>, implement the new <code class="docutils literal notranslate"><span class="pre">AddGas()</span></code> method and a
<code class="docutils literal notranslate"><span class="pre">Assert.Fail()</span></code> scenario.</p></li>
</ol>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="w">   </span><span class="c1">//TODO: can&#39;t have more gas than tank size, expect an exception</span>
<span class="linenos">2</span><span class="w">   </span><span class="na">[TestMethod]</span><span class="w"></span>
<span class="linenos">3</span><span class="w">   </span><span class="na">[ExpectedException(typeof(ArgumentOutOfRangeException))]</span><span class="w"></span>
<span class="linenos">4</span><span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">TestGasOverfillException</span><span class="p">()</span><span class="w"></span>
<span class="linenos">5</span><span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="linenos">6</span><span class="w">      </span><span class="n">test_car</span><span class="p">.</span><span class="n">AddGas</span><span class="p">(</span><span class="m">5</span><span class="p">);</span><span class="w"></span>
<span class="linenos">7</span><span class="w">      </span><span class="n">Assert</span><span class="p">.</span><span class="n">Fail</span><span class="p">(</span><span class="s">&quot;Shouldn&#39;t get here, car cannot have more gas in tank than the size of the tank&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">8</span><span class="w">   </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><a class="reference internal" href="../../chapters/unit-testing/exercises.html#unit-testing-exercises3"><span class="std std-ref">Back to the exercises</span></a></p>
<ol class="arabic simple" start="6">
<li><p>We need to refactor <code class="docutils literal notranslate"><span class="pre">Car</span></code> to throw an exception when too much
gas is added to the tank. Find the <code class="docutils literal notranslate"><span class="pre">AddGas()</span></code> method and
modify it by adding the following code in the appropriate place.</p></li>
</ol>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">AddGas</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">gas</span><span class="p">)</span><span class="w"></span>
<span class="linenos">2</span><span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="linenos">3</span><span class="w">      </span><span class="n">GasTankLevel</span><span class="w"> </span><span class="p">+=</span><span class="w"> </span><span class="n">gas</span><span class="p">;</span><span class="w"></span>
<span class="linenos">4</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">GasTankLevel</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="n">GasTankSize</span><span class="p">)</span><span class="w"></span>
<span class="linenos">5</span><span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="linenos">6</span><span class="w">         </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">ArgumentOutOfRangeException</span><span class="p">(</span><span class="s">&quot;Can&#39;t exceed tank size&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">7</span><span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="linenos">8</span><span class="w">   </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><a class="reference internal" href="../../chapters/unit-testing/exercises.html#unit-testing-exercises3"><span class="std std-ref">Back to the exercises</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="classes-2.html" class="btn btn-neutral float-left" title="Exercise Solutions: Classes Part 2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="inheritance.html" class="btn btn-neutral float-right" title="Exercise Solutions: Inheritance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, LaunchCode.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>